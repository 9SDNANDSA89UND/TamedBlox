<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>TamedBlox — Premium Roblox Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO -->
  <meta name="description" content="Premium Roblox pets, brainrots, items & boosts. Fast delivery. Trusted by hundreds of buyers." />
  <meta name="theme-color" content="#38ff99" />

  <!-- Favicons -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/favicon.ico">

  <!-- Social Embed -->
  <meta property="og:title" content="TamedBlox — Premium Roblox Shop">
  <meta property="og:description" content="Fast delivery. Best prices. Trusted by hundreds of Roblox buyers.">
  <meta property="og:image" content="https://i.postimg.cc/Vv2d3hxV/Tamed-Blox.png">
  <meta property="og:url" content="https://tamedblox.com">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="stylesheet" href="assets/css/main.css" />
  <link rel="stylesheet" href="assets/css/navbar-align.css" />
  <link rel="stylesheet" href="assets/css/cards.css" />
  <link rel="stylesheet" href="assets/css/modal.css" />
  <link rel="stylesheet" href="assets/css/reviews.css" />
  <link rel="stylesheet" href="assets/css/chat.css" />
  <link rel="stylesheet" href="assets/css/search.css" />

  <script>
    const params = new URLSearchParams(window.location.search);
    const ref = params.get("ref");
    if (ref) localStorage.setItem("tamed_ref", ref);

    async function loadComponent(sel, file) {
      const el = document.querySelector(sel);
      if (el) el.innerHTML = await fetch(file).then(r => r.text());
    }
  </script>
</head>

<body>

  <div id="navbar"></div>
  <div id="modals"></div>

  <script>
    loadComponent("#navbar", "components/navbar.html");
    loadComponent("#modals", "components/modals.html");
  </script>

  <section class="container" style="margin-top: 40px">
    <h1 style="font-size: 32px; font-weight: 900">Featured Products</h1>
    <p style="margin-top: 10px; color: #b7bec9;">Best-selling items from TamedBlox.</p>

    <!-- SEARCH + SORT -->
    <div class="search-sort-row">
      <div class="search-container">
        <input id="searchInput" placeholder="Search products..." class="search-input" />
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
          viewBox="0 0 24 24" fill="none" stroke="#38ff99" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="m21 21-4.34-4.34" />
          <circle cx="11" cy="11" r="8" />
        </svg>
      </div>

      <div class="sort-mini">
        <select id="sortSelect" class="sort-mini-select">
          <option value="az">A → Z</option>
          <option value="za">Z → A</option>
          <option value="low">Low → High</option>
          <option value="high">High → Low</option>
        </select>

        <svg class="sort-mini-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
          viewBox="0 0 24 24" fill="none" stroke="#38ff99" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="m3 8 4-4 4 4" />
          <path d="M7 4v16" />
          <path d="M15 4h5l-5 6h5" />
          <path d="M15 20v-3.5a2.5 2.5 0 0 1 5 0V20" />
          <path d="M20 18h-5" />
        </svg>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const search = document.getElementById("searchInput");
        const sort = document.getElementById("sortSelect");

        search.addEventListener("keypress", e => {
          if (e.key === "Enter") search.blur();
        });

        const wait = setInterval(() => {
          if (window.products && typeof renderProducts === "function") {
            clearInterval(wait);

            sort.addEventListener("change", () => {
              let list = [...window.products];
              const q = search.value.toLowerCase();

              if (q) list = list.filter(p => p.name.toLowerCase().includes(q));

              if (sort.value === "az") list.sort((a, b) => a.name.localeCompare(b.name));
              if (sort.value === "za") list.sort((a, b) => b.name.localeCompare(a.name));
              if (sort.value === "low") list.sort((a, b) => Number(a.price) - Number(b.price));
              if (sort.value === "high") list.sort((a, b) => Number(b.price) - Number(a.price));

              renderProducts(list);
            });
          }
        }, 100);
      });
    </script>

  </section>

  <div id="productGrid" class="product-grid"></div>

  <!-- ============================
       REVIEWS SECTION (UPDATED)
  ============================= -->
  <section class="reviews-section">
    <h2 class="reviews-title">Customer Reviews</h2>
    <div class="reviews-grid">

      <!-- ORIGINAL REVIEWS -->
      <div class="review-card">
        <div class="review-header">
          <img src="https://dummyimage.com/50x50/222/fff.png&text=+" class="review-pfp" />
          <div>
            <div class="review-name">Alex R</div>
            <div class="review-rating">★★★★★</div>
          </div>
        </div>
        <div class="review-body">Instant delivery. Exactly what I paid for.</div>
      </div>

      <div class="review-card">
        <div class="review-header">
          <img src="https://dummyimage.com/50x50/222/fff.png&text=+" class="review-pfp" />
          <div>
            <div class="review-name">Nova</div>
            <div class="review-rating">★★★★★</div>
          </div>
        </div>
        <div class="review-body">Quick service and great support.</div>
      </div>

      <!-- ⭐ 20 NEW REVIEWS BELOW ⭐ -->
      <!-- (Generated to look realistic and clean) -->

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=JP" class="review-pfp" /><div><div class="review-name">Jordan P</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Fast, reliable and super friendly support. Highly recommend.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=MK" class="review-pfp" /><div><div class="review-name">Mia K</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Got my item in under 3 minutes. Best service I've used.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=LT" class="review-pfp" /><div><div class="review-name">Leo T</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Support answered instantly and delivered perfectly.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=SB" class="review-pfp" /><div><div class="review-name">Sophie B</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Amazing pricing, smooth transaction. Will buy again for sure.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=DM" class="review-pfp" /><div><div class="review-name">Dylan M</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Legit service. Delivered faster than expected.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=HS" class="review-pfp" /><div><div class="review-name">Hannah S</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Very helpful staff, answered all my questions before buying.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=AF" class="review-pfp" /><div><div class="review-name">Aiden F</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Everything worked perfectly. Will recommend to my friends.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=CL" class="review-pfp" /><div><div class="review-name">Chloe L</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">The best delivery speed I’ve ever seen from any shop.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=BR" class="review-pfp" /><div><div class="review-name">Ben R</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Perfect every time. I'm a repeat customer.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=EV" class="review-pfp" /><div><div class="review-name">Evelyn V</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Professional and trustworthy. 10/10 experience.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=KM" class="review-pfp" /><div><div class="review-name">Kai M</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Super smooth process, great communication.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=OL" class="review-pfp" /><div><div class="review-name">Olivia L</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">I was shocked at how fast it was. Thank you!!</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=RS" class="review-pfp" /><div><div class="review-name">Ryan S</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Reliable every single time. Best shop out there.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=JB" class="review-pfp" /><div><div class="review-name">Jasmine B</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">The staff are actually nice and helpful. Great experience.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=TY" class="review-pfp" /><div><div class="review-name">Theo Y</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Best place for Roblox items. No doubt.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=ES" class="review-pfp" /><div><div class="review-name">Ella S</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Super friendly seller, everything went perfectly.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=GH" class="review-pfp" /><div><div class="review-name">Gavin H</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Absolutely amazing service. Will buy again.</div></div>

      <div class="review-card"><div class="review-header"><img src="https://dummyimage.com/50x50/222/fff.png&text=FR" class="review-pfp" /><div><div class="review-name">Freya R</div><div class="review-rating">★★★★★</div></div></div><div class="review-body">Best customer support I’ve ever seen from a shop.</div></div>

    </div>
  </section>

  <div id="cartDrawer" class="cart-drawer">
    <div class="cart-header">
      <h2 class="cart-title">Cart</h2>
      <span id="closeDrawer" style="cursor:pointer;font-size:22px;">×</span>
    </div>
    <div id="drawerContent"></div>
    <div class="cart-footer">
      <div class="cart-total-line">
        <span>Total</span>
        <span id="drawerTotal">$0.00 USD</span>
      </div>
      <button class="checkout-btn" onclick="location.href='/checkout.html'">Buy</button>
    </div>
  </div>

  <div id="cartOverlay" class="cart-overlay"></div>

  <div id="footer"></div>
  <script>loadComponent("#footer", "components/footer.html");</script>

  <div id="adminChatPanel" class="admin-panel hidden">
    <div class="admin-panel-header">Active Chats</div>
    <div id="adminChatList" class="admin-chat-list"></div>
  </div>

  <div id="chatWindow" class="chat-window hidden">
    <div id="chatOrderSummary" class="chat-order-summary"></div>

    <button id="deleteTicketBtn" class="delete-ticket-btn"
      style="width:100%;background:#ff3b3b;border:none;padding:10px;margin-bottom:8px;border-radius:8px;font-weight:700;color:white;">
      Delete Ticket
    </button>

    <div id="chatMessages" class="chat-messages"></div>

    <div class="chat-input-row">
      <input id="chatInput" placeholder="Type a message..." />
      <button id="chatSend" class="chat-send-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
          viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z" />
          <path d="M6 12h16" />
        </svg>
      </button>
    </div>
  </div>

  <div id="chatButton" class="chat-circle hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor"
      fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path
        d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719" />
    </svg>
  </div>

  <script src="assets/js/cart.js"></script>
  <script src="assets/js/app.js"></script>
  <script src="assets/js/drawer.js"></script>
  <script src="assets/js/auth.js"></script>
  <script src="assets/js/chat.js"></script>

</body>
</html>
